{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u0420\\u0410\\u0411\\u041E\\u0422\\u0410\\\\\\u0421\\u0430\\u0439\\u0442 \\u0421\\u0431\\u0435\\u0440\\u041E\\u0420\\u041C \\u2014 \\u0442\\u0435\\u0441\\u0442 \\u0431\\u0434\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './index.css';\nimport Login from './Login.tsx';\n\n// Импорты с расширением .tsx для корректного разрешения модулей\nimport RiskDetails from './RiskDetails.tsx';\nimport DetailedRisks from './DetailedRisks.tsx';\n\n// Определяем интерфейсы для наших данных\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst roundMetricValue = value => {\n  if (value < 1) {\n    return Math.round(value * 10) / 10;\n  }\n  return Math.round(value);\n};\nconst formatValue = value => {\n  if (value === null || value === undefined || value === '') {\n    return 'Нет данных';\n  }\n  if (typeof value === 'number') {\n    return String(roundMetricValue(value));\n  }\n  return String(value);\n};\nconst ProcessSearch = ({\n  onSearch\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-container\",\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E \\u0438\\u043B\\u0438 \\u043A\\u043E\\u0434\\u0443 \\u043F\\u0440\\u043E\\u0446\\u0435\\u0441\\u0441\\u0430...\",\n      onChange: e => onSearch(e.target.value),\n      className: \"search-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n_c = ProcessSearch;\nconst getTimelineMaxHours = (rto, mtpd, tr, mtpdCritical) => {\n  const maxValue = Math.max(rto, mtpd, tr, mtpdCritical);\n  if (maxValue <= 1) return 1;\n  if (maxValue <= 2) return 2;\n  if (maxValue <= 4) return 4;\n  if (maxValue <= 8) return 8;\n  if (maxValue <= 12) return 12;\n  if (maxValue <= 16) return 16;\n  if (maxValue <= 24) return 24;\n  return Math.ceil(maxValue / 8) * 8;\n};\nconst TimeMetricsVisualizer = ({\n  rto,\n  mtpd,\n  tr\n}) => {\n  const mtpdCritical = roundMetricValue(mtpd * 1.3);\n  const maxHours = getTimelineMaxHours(rto, mtpd, tr, mtpdCritical);\n  const getTimelineLabels = maxHours => {\n    if (maxHours <= 1) return [0, 0.2, 0.4, 0.6, 0.8, 1];\n    if (maxHours <= 2) return [0, 0.5, 1, 1.5, 2];\n    if (maxHours <= 4) return [0, 1, 2, 3, 4];\n    if (maxHours <= 8) return [0, 2, 4, 6, 8];\n    if (maxHours <= 12) return [0, 3, 6, 9, 12];\n    if (maxHours <= 16) return [0, 4, 8, 12, 16];\n    if (maxHours <= 24) return [0, 6, 12, 18, 24];\n    const step = maxHours / 5;\n    return [0, step, step * 2, step * 3, step * 4, maxHours];\n  };\n  const timeLabels = getTimelineLabels(maxHours);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"time-metrics-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metrics-timeline\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timeline-labels\",\n        children: timeLabels.map((hours, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [hours < 1 ? hours.toFixed(1) : Math.round(hours), \"\\u0447\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timeline-grid\",\n        children: timeLabels.map((_, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-line\",\n          style: {\n            left: `${index / (timeLabels.length - 1) * 100}%`\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timeline-metrics\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metrics-boundaries\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"metric rto\",\n            style: {\n              left: `${rto / maxHours * 100}%`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"metric-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"metric-label\",\n              children: [\"RTO \", rto < 1 ? rto.toFixed(1) : Math.round(rto), \"\\u0447\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"metric mtpd\",\n            style: {\n              left: `${mtpd / maxHours * 100}%`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"metric-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"metric-label\",\n              children: [\"MTPD \", mtpd < 1 ? mtpd.toFixed(1) : Math.round(mtpd), \"\\u0447\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"metric mtpd-critical\",\n            style: {\n              left: `${mtpdCritical / maxHours * 100}%`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"metric-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"metric-label\",\n              children: [\"MTPD*1.3 \", mtpdCritical < 1 ? mtpdCritical.toFixed(1) : Math.round(mtpdCritical), \"\\u0447\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metrics-current\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"metric tr\",\n            style: {\n              left: `${tr / maxHours * 100}%`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"metric-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"metric-label\",\n              children: [\"TR \", tr < 1 ? tr.toFixed(1) : Math.round(tr), \"\\u0447\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metrics-legend\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-title\",\n          children: \"\\u0412\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u044B\\u0435 \\u0440\\u0430\\u043C\\u043A\\u0438:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item rto\",\n          children: \"RTO - \\u0426\\u0435\\u043B\\u0435\\u0432\\u043E\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F \\u0432\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item mtpd\",\n          children: \"MTPD - \\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u043E \\u0434\\u043E\\u043F\\u0443\\u0441\\u0442\\u0438\\u043C\\u044B\\u0439 \\u043F\\u0435\\u0440\\u0438\\u043E\\u0434 \\u043F\\u0440\\u0435\\u0440\\u044B\\u0432\\u0430\\u043D\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item mtpd-critical\",\n          children: \"MTPD*1.3 - \\u041A\\u0440\\u0438\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u043F\\u0435\\u0440\\u0438\\u043E\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-title\",\n          children: \"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0438\\u0439 \\u043F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item tr\",\n          children: \"TR - \\u0412\\u0440\\u0435\\u043C\\u044F \\u0432\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_c2 = TimeMetricsVisualizer;\nfunction App() {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(!!localStorage.getItem('token'));\n  const [processes, setProcesses] = useState([]);\n  const [filteredProcesses, setFilteredProcesses] = useState([]);\n  const [selectedProcess, setSelectedProcess] = useState(null);\n  const [threats, setThreats] = useState([]);\n  const [selectedThreat, setSelectedThreat] = useState(null);\n  const [selectedThreatDetails, setSelectedThreatDetails] = useState(null);\n  const [fullName, setFullName] = useState('');\n  const [detailedRisks, setDetailedRisks] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!isLoggedIn) return;\n    fetch('http://localhost:8000/users/me', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => {\n      if (!res.ok) {\n        throw new Error('Ошибка авторизации');\n      }\n      return res.json();\n    }).then(userData => {\n      setFullName(userData.full_name || '');\n    }).catch(() => {\n      setFullName('');\n    });\n    fetch('http://localhost:8000/processes', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error('Ошибка авторизации');\n      }\n      return response.json();\n    }).then(data => {\n      const processesArray = Array.isArray(data) ? data : [];\n      setProcesses(processesArray);\n      setFilteredProcesses(processesArray);\n    }).catch(err => setError('Не удалось загрузить список процессов.'));\n  }, [isLoggedIn]);\n  const handleProcessSearch = query => {\n    const lowercaseQuery = query.toLowerCase();\n    const filtered = processes.filter(process => process.name.toLowerCase().includes(lowercaseQuery) || process.sid.toLowerCase().includes(lowercaseQuery));\n    setFilteredProcesses(filtered);\n  };\n  useEffect(() => {\n    if (!isLoggedIn) return;\n    setThreats([]);\n    setSelectedThreat(null);\n    setSelectedThreatDetails(null);\n    setDetailedRisks([]);\n    setError(null);\n    if (selectedProcess) {\n      fetch(`http://localhost:8000/threats/${selectedProcess.sid}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(response => {\n        if (!response.ok) throw new Error('Ошибка авторизации');\n        return response.json();\n      }).then(data => {\n        setThreats(data || []);\n      }).catch(err => {\n        setError('Не удалось загрузить угрозы для процесса.');\n      });\n    }\n  }, [selectedProcess, isLoggedIn]);\n  useEffect(() => {\n    if (!isLoggedIn) return;\n    if (selectedThreat) {\n      setError(null);\n      fetch(`http://localhost:8000/risk-details/${selectedThreat.process_sid}?threat_type=${encodeURIComponent(selectedThreat.type)}&threat_scenario=${encodeURIComponent(selectedThreat.scenario)}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        if (!res.ok) {\n          if (res.status === 401) {\n            localStorage.removeItem('token');\n            setIsLoggedIn(false);\n          }\n          throw new Error('Базовая информация не найдена.');\n        }\n        return res.json();\n      }).then(data => {\n        setSelectedThreatDetails(data);\n      }).catch(err => {\n        setError(err.message);\n        setSelectedThreatDetails(null);\n      });\n      fetch(`http://localhost:8000/detailed-risk-report/${selectedThreat.process_sid}?threat_type=${encodeURIComponent(selectedThreat.type)}&threat_scenario=${encodeURIComponent(selectedThreat.scenario)}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        if (!res.ok) {\n          if (res.status === 401) {\n            localStorage.removeItem('token');\n            setIsLoggedIn(false);\n          }\n          throw new Error('Детальный отчет не найден.');\n        }\n        return res.json();\n      }).then(data => {\n        setDetailedRisks(Array.isArray(data) ? data : [data]);\n      }).catch(err => {\n        setError(err.message);\n        setDetailedRisks([]);\n      });\n    }\n  }, [selectedThreat, isLoggedIn]);\n  const getRiskColor = level => {\n    if (!level) return '#6c757d';\n    const l = level.toLowerCase();\n    if (l.includes('критический')) return '#dc3545';\n    if (l.includes('высокий')) return '#ffc107';\n    if (l.includes('средний')) return '#fd7e14';\n    if (l.includes('низкий')) return '#28a745';\n    return '#6c757d';\n  };\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(Login, {\n      onLoginSuccess: () => setIsLoggedIn(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        alignItems: 'center',\n        padding: '10px 20px',\n        backgroundColor: '#f5f5f5',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginRight: '15px',\n          fontWeight: 'bold',\n          fontSize: '16px',\n          color: '#333'\n        },\n        children: fullName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          localStorage.removeItem('token');\n          setIsLoggedIn(false);\n          setFullName('');\n          setProcesses([]);\n          setFilteredProcesses([]);\n          setSelectedProcess(null);\n          setThreats([]);\n          setSelectedThreat(null);\n          setSelectedThreatDetails(null);\n          setDetailedRisks([]);\n          setError(null);\n        },\n        style: {\n          padding: '6px 12px',\n          fontSize: '14px',\n          cursor: 'pointer',\n          backgroundColor: '#007bff',\n          color: '#fff',\n          border: 'none',\n          borderRadius: '4px',\n          transition: 'background-color 0.3s'\n        },\n        onMouseOver: e => e.currentTarget.style.backgroundColor = '#0056b3',\n        onMouseOut: e => e.currentTarget.style.backgroundColor = '#007bff',\n        children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u041F\\u0440\\u043E\\u0446\\u0435\\u0441\\u0441\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProcessSearch, {\n        onSearch: handleProcessSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"process-list\",\n        children: filteredProcesses.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `process-item ${(selectedProcess === null || selectedProcess === void 0 ? void 0 : selectedProcess.sid) === p.sid ? 'selected' : ''}`,\n          onClick: () => setSelectedProcess(p),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"process-name\",\n            children: p.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"process-sid\",\n            children: p.sid\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this)]\n        }, p.sid, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: selectedProcess ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"\\u0423\\u0433\\u0440\\u043E\\u0437\\u044B \\u0434\\u043B\\u044F: \", selectedProcess.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"threats-container\",\n          children: threats.map(threat => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `threat-card ${(selectedThreat === null || selectedThreat === void 0 ? void 0 : selectedThreat.process_sid) === threat.process_sid && (selectedThreat === null || selectedThreat === void 0 ? void 0 : selectedThreat.type) === threat.type && (selectedThreat === null || selectedThreat === void 0 ? void 0 : selectedThreat.scenario) === threat.scenario ? 'selected' : ''}`,\n            onClick: () => setSelectedThreat(threat),\n            style: {\n              borderLeft: `5px solid ${getRiskColor(threat.integral_risk_level)}`,\n              backgroundColor: '#fff'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"threat-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: threat.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"threat-rating\",\n                style: {\n                  backgroundColor: threat.threat_rating_color || getRiskColor(threat.threat_rating)\n                },\n                children: threat.threat_rating || 'Нет данных'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"threat-scenario\",\n              children: threat.scenario\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"threat-risks\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"risk-item integral-risk\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0418\\u043D\\u0442\\u0435\\u0433\\u0440\\u0430\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0440\\u0438\\u0441\\u043A:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: getRiskColor(threat.integral_risk_level),\n                    fontWeight: 'bold'\n                  },\n                  children: formatValue(threat.integral_risk_level)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"risk-item highest-risk\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0423\\u0440\\u043E\\u0432\\u0435\\u043D\\u044C \\u043D\\u0430\\u0438\\u0431\\u043E\\u043B\\u0435\\u0435 \\u0432\\u044B\\u0441\\u043E\\u043A\\u043E\\u0433\\u043E \\u0440\\u0438\\u0441\\u043A\\u0430:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: getRiskColor(threat.highest_risk_level)\n                  },\n                  children: formatValue(threat.highest_risk_level)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 19\n            }, this)]\n          }, `${threat.process_sid}-${threat.type}-${threat.scenario}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this), selectedThreat && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details-container\",\n          children: error ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(RiskDetails, {\n              riskDetails: selectedThreatDetails\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(DetailedRisks, {\n              detailedRisks: detailedRisks\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"placeholder\",\n        children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0440\\u043E\\u0446\\u0435\\u0441\\u0441 \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 351,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"rrOwaqwU83B2Jp0gYsC5E56Wyog=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ProcessSearch\");\n$RefreshReg$(_c2, \"TimeMetricsVisualizer\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Login","RiskDetails","DetailedRisks","jsxDEV","_jsxDEV","Fragment","_Fragment","roundMetricValue","value","Math","round","formatValue","undefined","String","ProcessSearch","onSearch","className","children","type","placeholder","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","_c","getTimelineMaxHours","rto","mtpd","tr","mtpdCritical","maxValue","max","ceil","TimeMetricsVisualizer","maxHours","getTimelineLabels","step","timeLabels","map","hours","index","toFixed","_","style","left","length","_c2","App","_s","isLoggedIn","setIsLoggedIn","localStorage","getItem","processes","setProcesses","filteredProcesses","setFilteredProcesses","selectedProcess","setSelectedProcess","threats","setThreats","selectedThreat","setSelectedThreat","selectedThreatDetails","setSelectedThreatDetails","fullName","setFullName","detailedRisks","setDetailedRisks","error","setError","fetch","headers","then","res","ok","Error","json","userData","full_name","catch","response","data","processesArray","Array","isArray","err","handleProcessSearch","query","lowercaseQuery","toLowerCase","filtered","filter","process","name","includes","sid","process_sid","encodeURIComponent","scenario","status","removeItem","message","getRiskColor","level","l","onLoginSuccess","display","justifyContent","alignItems","padding","backgroundColor","boxShadow","marginRight","fontWeight","fontSize","color","onClick","cursor","border","borderRadius","transition","onMouseOver","currentTarget","onMouseOut","p","threat","borderLeft","integral_risk_level","threat_rating_color","threat_rating","highest_risk_level","riskDetails","_c3","$RefreshReg$"],"sources":["C:/РАБОТА/Сайт СберОРМ — тест бд/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './index.css';\r\nimport Login from './Login.tsx';\r\n\r\n// Импорты с расширением .tsx для корректного разрешения модулей\r\nimport RiskDetails from './RiskDetails.tsx';\r\nimport DetailedRisks from './DetailedRisks.tsx';\r\n\r\n// Определяем интерфейсы для наших данных\r\ninterface Process {\r\n  id: number;\r\n  sid: string;\r\n  name: string;\r\n  risk_label: string;\r\n  owner_block: string;\r\n  department: string;\r\n  rating: number;\r\n}\r\n\r\ninterface Threat {\r\n  id: number;\r\n  type: string;\r\n  scenario: string;\r\n  integral_risk_level: string;\r\n  highest_risk_level: string;\r\n  process_sid: string;\r\n  threat_rating: string;\r\n  threat_rating_color: string;\r\n}\r\n\r\ninterface RiskDetail {\r\n  id: number;\r\n  as_reserved_in_rcod: string;\r\n  risk_label: string;\r\n  rto_hours: string;\r\n  mtpd: string;\r\n  tr: string;\r\n  high_risk_count?: number | string;\r\n  total_risk_count?: number | string;\r\n  process_threat_rating?: string;\r\n}\r\n\r\ninterface DetailedRiskReport {\r\n  id: number;\r\n  process: string;\r\n  process_sid: string;\r\n  threat_type: string;\r\n  threat_scenario: string;\r\n  impact_type: string;\r\n  risk_subcategory: string;\r\n  risk_group: string;\r\n  risk_subgroup: string;\r\n  integral_risk: string;\r\n  operational_risk: string;\r\n  reputational_risk: string;\r\n  regulatory_risk: string;\r\n  financial_risk: string;\r\n  impact_assessment: string;\r\n  probability_assessment: string;\r\n  control_assessment: string;\r\n  risk_level: string;\r\n  rto_hours: string;\r\n  mtpd: string;\r\n  tr: string;\r\n  risk_assessment_explanation: string;\r\n  as_reserved_in_rcod: string;\r\n}\r\n\r\ninterface FilterState {\r\n  impact_type: string[];\r\n  rto_hours: string[];\r\n  mtpd: string[];\r\n  tr: string[];\r\n  risk_assessment_explanation: string[];\r\n}\r\n\r\nconst roundMetricValue = (value: number): number => {\r\n  if (value < 1) {\r\n    return Math.round(value * 10) / 10;\r\n  }\r\n  return Math.round(value);\r\n};\r\n\r\nconst formatValue = (value: string | number | null | undefined) => {\r\n  if (value === null || value === undefined || value === '') {\r\n    return 'Нет данных';\r\n  }\r\n  if (typeof value === 'number') {\r\n    return String(roundMetricValue(value));\r\n  }\r\n  return String(value);\r\n};\r\n\r\nconst ProcessSearch: React.FC<{ onSearch: (query: string) => void }> = ({ onSearch }) => {\r\n  return (\r\n    <div className=\"search-container\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Поиск по названию или коду процесса...\"\r\n        onChange={(e) => onSearch(e.target.value)}\r\n        className=\"search-input\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst getTimelineMaxHours = (rto: number, mtpd: number, tr: number, mtpdCritical: number): number => {\r\n  const maxValue = Math.max(rto, mtpd, tr, mtpdCritical);\r\n  if (maxValue <= 1) return 1;\r\n  if (maxValue <= 2) return 2;\r\n  if (maxValue <= 4) return 4;\r\n  if (maxValue <= 8) return 8;\r\n  if (maxValue <= 12) return 12;\r\n  if (maxValue <= 16) return 16;\r\n  if (maxValue <= 24) return 24;\r\n  return Math.ceil(maxValue / 8) * 8;\r\n};\r\n\r\nconst TimeMetricsVisualizer: React.FC<{\r\n  rto: number;\r\n  mtpd: number;\r\n  tr: number;\r\n}> = ({ rto, mtpd, tr }) => {\r\n  const mtpdCritical = roundMetricValue(mtpd * 1.3);\r\n  const maxHours = getTimelineMaxHours(rto, mtpd, tr, mtpdCritical);\r\n\r\n  const getTimelineLabels = (maxHours: number): number[] => {\r\n    if (maxHours <= 1) return [0, 0.2, 0.4, 0.6, 0.8, 1];\r\n    if (maxHours <= 2) return [0, 0.5, 1, 1.5, 2];\r\n    if (maxHours <= 4) return [0, 1, 2, 3, 4];\r\n    if (maxHours <= 8) return [0, 2, 4, 6, 8];\r\n    if (maxHours <= 12) return [0, 3, 6, 9, 12];\r\n    if (maxHours <= 16) return [0, 4, 8, 12, 16];\r\n    if (maxHours <= 24) return [0, 6, 12, 18, 24];\r\n    const step = maxHours / 5;\r\n    return [0, step, step * 2, step * 3, step * 4, maxHours];\r\n  };\r\n\r\n  const timeLabels = getTimelineLabels(maxHours);\r\n\r\n  return (\r\n    <div className=\"time-metrics-container\">\r\n      <div className=\"metrics-timeline\">\r\n        <div className=\"timeline-labels\">\r\n          {timeLabels.map((hours, index) => (\r\n            <div key={index}>{hours < 1 ? hours.toFixed(1) : Math.round(hours)}ч</div>\r\n          ))}\r\n        </div>\r\n        <div className=\"timeline-grid\">\r\n          {timeLabels.map((_, index) => (\r\n            <div key={index} className=\"grid-line\" style={{ left: `${(index / (timeLabels.length - 1)) * 100}%` }}></div>\r\n          ))}\r\n        </div>\r\n        <div className=\"timeline-metrics\">\r\n          <div className=\"metrics-boundaries\">\r\n            <div className=\"metric rto\" style={{ left: `${(rto / maxHours) * 100}%` }}>\r\n              <div className=\"metric-line\"></div>\r\n              <div className=\"metric-label\">RTO {rto < 1 ? rto.toFixed(1) : Math.round(rto)}ч</div>\r\n            </div>\r\n            <div className=\"metric mtpd\" style={{ left: `${(mtpd / maxHours) * 100}%` }}>\r\n              <div className=\"metric-line\"></div>\r\n              <div className=\"metric-label\">MTPD {mtpd < 1 ? mtpd.toFixed(1) : Math.round(mtpd)}ч</div>\r\n            </div>\r\n            <div className=\"metric mtpd-critical\" style={{ left: `${(mtpdCritical / maxHours) * 100}%` }}>\r\n              <div className=\"metric-line\"></div>\r\n              <div className=\"metric-label\">MTPD*1.3 {mtpdCritical < 1 ? mtpdCritical.toFixed(1) : Math.round(mtpdCritical)}ч</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"metrics-current\">\r\n            <div className=\"metric tr\" style={{ left: `${(tr / maxHours) * 100}%` }}>\r\n              <div className=\"metric-line\"></div>\r\n              <div className=\"metric-label\">TR {tr < 1 ? tr.toFixed(1) : Math.round(tr)}ч</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"metrics-legend\">\r\n        <div className=\"legend-group\">\r\n          <div className=\"legend-title\">Временные рамки:</div>\r\n          <div className=\"legend-item rto\">RTO - Целевое время восстановления</div>\r\n          <div className=\"legend-item mtpd\">MTPD - Максимально допустимый период прерывания</div>\r\n          <div className=\"legend-item mtpd-critical\">MTPD*1.3 - Критический период</div>\r\n        </div>\r\n        <div className=\"legend-group\">\r\n          <div className=\"legend-title\">Текущий показатель:</div>\r\n          <div className=\"legend-item tr\">TR - Время восстановления</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState<boolean>(!!localStorage.getItem('token'));\r\n  const [processes, setProcesses] = useState<Process[]>([]);\r\n  const [filteredProcesses, setFilteredProcesses] = useState<Process[]>([]);\r\n  const [selectedProcess, setSelectedProcess] = useState<Process | null>(null);\r\n  const [threats, setThreats] = useState<Threat[]>([]);\r\n  const [selectedThreat, setSelectedThreat] = useState<Threat | null>(null);\r\n  const [selectedThreatDetails, setSelectedThreatDetails] = useState<RiskDetail | null>(null);\r\n  const [fullName, setFullName] = useState<string>('');\r\n\r\n  const [detailedRisks, setDetailedRisks] = useState<DetailedRiskReport[]>([]);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!isLoggedIn) return;\r\n\r\n    fetch('http://localhost:8000/users/me', {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (!res.ok) {\r\n          throw new Error('Ошибка авторизации');\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(userData => {\r\n        setFullName(userData.full_name || '');\r\n      })\r\n      .catch(() => {\r\n        setFullName('');\r\n      });\r\n\r\n    fetch('http://localhost:8000/processes', {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n      }\r\n    })\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error('Ошибка авторизации');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        const processesArray = Array.isArray(data) ? data : [];\r\n        setProcesses(processesArray);\r\n        setFilteredProcesses(processesArray);\r\n      })\r\n      .catch(err => setError('Не удалось загрузить список процессов.'));\r\n  }, [isLoggedIn]);\r\n\r\n  const handleProcessSearch = (query: string) => {\r\n    const lowercaseQuery = query.toLowerCase();\r\n    const filtered = processes.filter(process =>\r\n      process.name.toLowerCase().includes(lowercaseQuery) ||\r\n      process.sid.toLowerCase().includes(lowercaseQuery)\r\n    );\r\n    setFilteredProcesses(filtered);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isLoggedIn) return;\r\n    setThreats([]);\r\n    setSelectedThreat(null);\r\n    setSelectedThreatDetails(null);\r\n    setDetailedRisks([]);\r\n    setError(null);\r\n\r\n    if (selectedProcess) {\r\n      fetch(`http://localhost:8000/threats/${selectedProcess.sid}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) throw new Error('Ошибка авторизации');\r\n          return response.json();\r\n        })\r\n        .then(data => {\r\n          setThreats(data || []);\r\n        })\r\n        .catch(err => {\r\n          setError('Не удалось загрузить угрозы для процесса.');\r\n        });\r\n    }\r\n  }, [selectedProcess, isLoggedIn]);\r\n\r\n  useEffect(() => {\r\n    if (!isLoggedIn) return;\r\n    if (selectedThreat) {\r\n      setError(null);\r\n\r\n      fetch(`http://localhost:8000/risk-details/${selectedThreat.process_sid}?threat_type=${encodeURIComponent(selectedThreat.type)}&threat_scenario=${encodeURIComponent(selectedThreat.scenario)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      })\r\n        .then(res => {\r\n          if (!res.ok) {\r\n            if (res.status === 401) {\r\n              localStorage.removeItem('token');\r\n              setIsLoggedIn(false);\r\n            }\r\n            throw new Error('Базовая информация не найдена.');\r\n          }\r\n          return res.json();\r\n        })\r\n        .then(data => {\r\n          setSelectedThreatDetails(data);\r\n        })\r\n        .catch(err => {\r\n          setError(err.message);\r\n          setSelectedThreatDetails(null);\r\n        });\r\n\r\n      fetch(`http://localhost:8000/detailed-risk-report/${selectedThreat.process_sid}?threat_type=${encodeURIComponent(selectedThreat.type)}&threat_scenario=${encodeURIComponent(selectedThreat.scenario)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      })\r\n        .then(res => {\r\n          if (!res.ok) {\r\n            if (res.status === 401) {\r\n              localStorage.removeItem('token');\r\n              setIsLoggedIn(false);\r\n            }\r\n            throw new Error('Детальный отчет не найден.');\r\n          }\r\n          return res.json();\r\n        })\r\n        .then(data => {\r\n          setDetailedRisks(Array.isArray(data) ? data : [data]);\r\n        })\r\n        .catch(err => {\r\n          setError(err.message);\r\n          setDetailedRisks([]);\r\n        });\r\n    }\r\n  }, [selectedThreat, isLoggedIn]);\r\n\r\n  const getRiskColor = (level: string | undefined | null): string => {\r\n    if (!level) return '#6c757d';\r\n\r\n    const l = level.toLowerCase();\r\n    if (l.includes('критический')) return '#dc3545';\r\n    if (l.includes('высокий')) return '#ffc107';\r\n    if (l.includes('средний')) return '#fd7e14';\r\n    if (l.includes('низкий')) return '#28a745';\r\n    return '#6c757d';\r\n  };\r\n\r\n  if (!isLoggedIn) {\r\n    return <Login onLoginSuccess={() => setIsLoggedIn(true)} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'center', padding: '10px 20px', backgroundColor: '#f5f5f5', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\r\n        <div style={{ marginRight: '15px', fontWeight: 'bold', fontSize: '16px', color: '#333' }}>\r\n          {fullName}\r\n        </div>\r\n        <button\r\n          onClick={() => {\r\n            localStorage.removeItem('token');\r\n            setIsLoggedIn(false);\r\n            setFullName('');\r\n            setProcesses([]);\r\n            setFilteredProcesses([]);\r\n            setSelectedProcess(null);\r\n            setThreats([]);\r\n            setSelectedThreat(null);\r\n            setSelectedThreatDetails(null);\r\n            setDetailedRisks([]);\r\n            setError(null);\r\n          }}\r\n          style={{\r\n            padding: '6px 12px',\r\n            fontSize: '14px',\r\n            cursor: 'pointer',\r\n            backgroundColor: '#007bff',\r\n            color: '#fff',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            transition: 'background-color 0.3s',\r\n          }}\r\n          onMouseOver={e => (e.currentTarget.style.backgroundColor = '#0056b3')}\r\n          onMouseOut={e => (e.currentTarget.style.backgroundColor = '#007bff')}\r\n        >\r\n          Выйти\r\n        </button>\r\n      </header>\r\n      <div className=\"sidebar\">\r\n        <h2>Процессы</h2>\r\n        <ProcessSearch onSearch={handleProcessSearch} />\r\n        <div className=\"process-list\">\r\n          {filteredProcesses.map(p => (\r\n            <div\r\n              key={p.sid}\r\n              className={`process-item ${selectedProcess?.sid === p.sid ? 'selected' : ''}`}\r\n              onClick={() => setSelectedProcess(p)}\r\n            >\r\n              <div className=\"process-name\">{p.name}</div>\r\n              <div className=\"process-sid\">{p.sid}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"main-content\">\r\n        {selectedProcess ? (\r\n          <>\r\n            <h2>Угрозы для: {selectedProcess.name}</h2>\r\n            <div className=\"threats-container\">\r\n              {threats.map(threat => (\r\n                <div\r\n                  key={`${threat.process_sid}-${threat.type}-${threat.scenario}`}\r\n                  className={`threat-card ${\r\n                    selectedThreat?.process_sid === threat.process_sid &&\r\n                    selectedThreat?.type === threat.type &&\r\n                    selectedThreat?.scenario === threat.scenario\r\n                      ? 'selected'\r\n                      : ''\r\n                  }`}\r\n                  onClick={() => setSelectedThreat(threat)}\r\n                  style={{\r\n                    borderLeft: `5px solid ${getRiskColor(threat.integral_risk_level)}`,\r\n                    backgroundColor: '#fff',\r\n                  }}\r\n                >\r\n                  <div className=\"threat-header\">\r\n                    <h3>{threat.type}</h3>\r\n                    <div\r\n                      className=\"threat-rating\"\r\n                      style={{\r\n                        backgroundColor: threat.threat_rating_color || getRiskColor(threat.threat_rating),\r\n                      }}\r\n                    >\r\n                      {threat.threat_rating || 'Нет данных'}\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"threat-scenario\">{threat.scenario}</p>\r\n                  <div className=\"threat-risks\">\r\n                    <div className=\"risk-item integral-risk\">\r\n                      <strong>Интегральный риск:</strong>\r\n                      <span\r\n                        style={{\r\n                          color: getRiskColor(threat.integral_risk_level),\r\n                          fontWeight: 'bold',\r\n                        }}\r\n                      >\r\n                        {formatValue(threat.integral_risk_level)}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"risk-item highest-risk\">\r\n                      <strong>Уровень наиболее высокого риска:</strong>\r\n                      <span style={{ color: getRiskColor(threat.highest_risk_level) }}>\r\n                        {formatValue(threat.highest_risk_level)}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <hr />\r\n            {selectedThreat && (\r\n              <div className=\"details-container\">\r\n                {error ? (\r\n                  <div className=\"error-message\">{error}</div>\r\n                ) : (\r\n                  <>\r\n                    <RiskDetails riskDetails={selectedThreatDetails} />\r\n                    <DetailedRisks detailedRisks={detailedRisks} />\r\n                  </>\r\n                )}\r\n              </div>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <div className=\"placeholder\">Выберите процесс для просмотра информации.</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}